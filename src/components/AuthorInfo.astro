---
interface Props {
  author: {
    id: string;
    name: string;
  };
  createdAt: string;
  className: string;
}

const { author, createdAt, className = '' } = Astro.props;

function cn(...classes: (string | undefined)[]) {
  return classes.filter(Boolean).join(' ');
}

function formatDate(dateString: string) {
  try {
    return new Date(dateString).toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'short',
      day: 'numeric'
    });
  } catch {
    return 'Recently';
  }
}
---

<div class={cn("flex items-center space-x-2", className)}>
  <div class="flex items-center space-x-2">
    <span class="text-sm text-muted-foreground">{author ? <p>{author.name}</p> : <p>Unknown author</p>}
</span>
  </div>
  <span class="text-sm text-muted-foreground">â€¢</span>
  <span class="text-sm text-muted-foreground">{formatDate(createdAt)}</span>
</div>
